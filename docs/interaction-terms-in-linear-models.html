<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 6 Interaction terms in linear models | Getting started with Quantitative Research Methods and R</title>
  <meta name="description" content="These are some of the course materials for the Goldsmiths’ Core Quantitative Research Methods course. It is a living document that will be added to regularly." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 6 Interaction terms in linear models | Getting started with Quantitative Research Methods and R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are some of the course materials for the Goldsmiths’ Core Quantitative Research Methods course. It is a living document that will be added to regularly." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 6 Interaction terms in linear models | Getting started with Quantitative Research Methods and R" />
  
  <meta name="twitter:description" content="These are some of the course materials for the Goldsmiths’ Core Quantitative Research Methods course. It is a living document that will be added to regularly." />
  

<meta name="author" content="Lukas Wallrich" />


<meta name="date" content="2020-03-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="comparing-means-between-conditions-or-groups.html"/>
<link rel="next" href="chi-squared-tests-for-associations-between-categorical-variables.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="include\psyteachr.css" type="text/css" />
<link rel="stylesheet" href="include\style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Getting started with Quantitative Research Methods and R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#further-sources"><i class="fa fa-check"></i><b>0.1</b> Further sources</a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#free-online-books"><i class="fa fa-check"></i><b>0.1.1</b> Free online books</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#paperlibrary-books"><i class="fa fa-check"></i><b>0.1.2</b> Paper/library books</a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#other-key-resources"><i class="fa fa-check"></i><b>0.1.3</b> Other key resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>1</b> Getting started with R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#install-r-on-your-computer"><i class="fa fa-check"></i><b>1.1</b> Install R on your computer</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#some-key-concepts"><i class="fa fa-check"></i><b>1.2</b> Some key concepts</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#r-rstudio-and-r-packages"><i class="fa fa-check"></i><b>1.2.1</b> R, RStudio and R packages</a></li>
<li class="chapter" data-level="1.2.2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#data-and-variables-in-r"><i class="fa fa-check"></i><b>1.2.2</b> Data and variables in R</a></li>
<li class="chapter" data-level="1.2.3" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#functions-in-r"><i class="fa fa-check"></i><b>1.2.3</b> Functions in R</a></li>
<li class="chapter" data-level="1.2.4" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#key-r-packages"><i class="fa fa-check"></i><b>1.2.4</b> Key R packages</a></li>
<li class="chapter" data-level="1.2.5" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#rmarkdown"><i class="fa fa-check"></i><b>1.2.5</b> RMarkdown</a></li>
<li class="chapter" data-level="1.2.6" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#help-what-to-do-when-problems-appear"><i class="fa fa-check"></i><b>1.2.6</b> HELP! What to do when problems appear?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html"><i class="fa fa-check"></i><b>2</b> Importing and describing data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html#importing-data-into-r"><i class="fa fa-check"></i><b>2.1</b> Importing data into R</a></li>
<li class="chapter" data-level="2.2" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html#manipulating-data"><i class="fa fa-check"></i><b>2.2</b> Manipulating data</a></li>
<li class="chapter" data-level="2.3" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html#functions-to-view-and-summarise-data"><i class="fa fa-check"></i><b>2.3</b> Functions to view and summarise data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data visualisation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#ggplot2"><i class="fa fa-check"></i><b>3.1</b> ggplot2</a></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#further-resources"><i class="fa fa-check"></i><b>3.2</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html"><i class="fa fa-check"></i><b>4</b> Simple and multiple linear regression</a>
<ul>
<li class="chapter" data-level="4.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>4.1</b> Simple linear regression</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#plotting-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>4.1.1</b> Plotting a simple linear regression model</a></li>
<li class="chapter" data-level="4.1.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#mathematical-representation-of-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>4.1.2</b> Mathematical representation of a simple linear regression model</a></li>
<li class="chapter" data-level="4.1.3" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#fitting-a-simple-linear-regression-model-in-r"><i class="fa fa-check"></i><b>4.1.3</b> Fitting a simple linear regression model in R</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#bivariate-correlation"><i class="fa fa-check"></i><b>4.2</b> Bivariate correlation</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#calculating-the-correlation-coefficient"><i class="fa fa-check"></i><b>4.2.1</b> Calculating the correlation coefficient</a></li>
<li class="chapter" data-level="4.2.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#equivalence-to-linear-regression"><i class="fa fa-check"></i><b>4.2.2</b> Equivalence to linear regression</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>4.3</b> Multiple linear regression</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#dummy-coding-revisited"><i class="fa fa-check"></i><b>4.3.1</b> Dummy coding revisited</a></li>
<li class="chapter" data-level="4.3.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#mathematical-structure-of-multiple-linear-models"><i class="fa fa-check"></i><b>4.3.2</b> Mathematical structure of multiple linear models</a></li>
<li class="chapter" data-level="4.3.3" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#running-multiple-linear-regression-models-in-r"><i class="fa fa-check"></i><b>4.3.3</b> Running multiple linear regression models in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html"><i class="fa fa-check"></i><b>5</b> Comparing means between conditions or groups</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#repeated-measures-or-independent-samples"><i class="fa fa-check"></i><b>5.0.1</b> Repeated measures or independent samples</a></li>
<li class="chapter" data-level="5.0.2" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#two-independent-means"><i class="fa fa-check"></i><b>5.0.2</b> Two independent means</a></li>
<li class="chapter" data-level="5.0.3" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#two-dependent-means"><i class="fa fa-check"></i><b>5.0.3</b> Two dependent means</a></li>
<li class="chapter" data-level="5.0.4" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#more-than-two-independent-means"><i class="fa fa-check"></i><b>5.0.4</b> More than two independent means</a></li>
<li class="chapter" data-level="5.0.5" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#more-than-two-means-from-repeated-measures"><i class="fa fa-check"></i><b>5.0.5</b> More than two means from repeated measures</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html"><i class="fa fa-check"></i><b>6</b> Interaction terms in linear models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html#example-1-memory-and-chess"><i class="fa fa-check"></i><b>6.1</b> Example 1: Memory and chess</a></li>
<li class="chapter" data-level="6.2" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html#example-2-link-between-obesity-and-negative-emotions-in-the-european-social-survey"><i class="fa fa-check"></i><b>6.2</b> Example 2: link between obesity and negative emotions in the European Social Survey</a></li>
<li class="chapter" data-level="6.3" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html#example-3-link-between-working-hours-income-and-life-satisfaction"><i class="fa fa-check"></i><b>6.3</b> Example 3: link between working hours, income and life satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html"><i class="fa fa-check"></i><b>7</b> Chi-squared tests for associations between categorical variables</a>
<ul>
<li class="chapter" data-level="7.1" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#tables-of-frequencies-and-proportions"><i class="fa fa-check"></i><b>7.1</b> Tables of frequencies and proportions</a></li>
<li class="chapter" data-level="7.2" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#the-null-hypothesis-and-the-chi2-statistic"><i class="fa fa-check"></i><b>7.2</b> The null hypothesis and the <span class="math inline">\(\chi^2\)</span> statistic</a></li>
<li class="chapter" data-level="7.3" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#the-chisq.test-function"><i class="fa fa-check"></i><b>7.3</b> The chisq.test() function</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#dealing-with-small-samples"><i class="fa fa-check"></i><b>7.3.1</b> Dealing with small samples</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#post-hoc-tests"><i class="fa fa-check"></i><b>7.4</b> Post-hoc tests</a></li>
<li class="chapter" data-level="7.5" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#effect-sizes"><i class="fa fa-check"></i><b>7.5</b> Effect sizes</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html"><i class="fa fa-check"></i><b>8</b> Reporting the results of statistical tests</a>
<ul>
<li class="chapter" data-level="8.1" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#essential-pieces-of-information"><i class="fa fa-check"></i><b>8.1</b> Essential pieces of information</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#what-to-include-for-specific-tests"><i class="fa fa-check"></i><b>8.1.1</b> What to include for specific tests</a></li>
<li class="chapter" data-level="8.1.2" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#formatting"><i class="fa fa-check"></i><b>8.1.2</b> Formatting</a></li>
<li class="chapter" data-level="8.1.3" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#rounding"><i class="fa fa-check"></i><b>8.1.3</b> Rounding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html"><i class="fa fa-check"></i><b>9</b> Accessing online data sources</a>
<ul>
<li class="chapter" data-level="9.1" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html#world-bank-data"><i class="fa fa-check"></i><b>9.1</b> World Bank data</a></li>
<li class="chapter" data-level="9.2" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html#wikidata"><i class="fa fa-check"></i><b>9.2</b> Wikidata</a></li>
<li class="chapter" data-level="9.3" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html#other-data-sources"><i class="fa fa-check"></i><b>9.3</b> Other data sources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html"><i class="fa fa-check"></i><b>10</b> Dealing with missing data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#example"><i class="fa fa-check"></i><b>10.1</b> Example</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#case-deletion"><i class="fa fa-check"></i><b>10.1.1</b> Case deletion</a></li>
<li class="chapter" data-level="10.1.2" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#imputation"><i class="fa fa-check"></i><b>10.1.2</b> Imputation</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#further-resources-1"><i class="fa fa-check"></i><b>10.2</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html"><i class="fa fa-check"></i><b>11</b> Probability in statistics and real life</a>
<ul>
<li class="chapter" data-level="11.1" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#what-are-probabilities"><i class="fa fa-check"></i><b>11.1</b> What are probabilities?</a></li>
<li class="chapter" data-level="11.2" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#combining-multiple-events-together"><i class="fa fa-check"></i><b>11.2</b> Combining multiple events together</a></li>
<li class="chapter" data-level="11.3" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#looking-at-independent-events"><i class="fa fa-check"></i><b>11.3</b> Looking at independent events</a></li>
<li class="chapter" data-level="11.4" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#updating-our-beliefs---bayes-theorem"><i class="fa fa-check"></i><b>11.4</b> Updating our beliefs - Bayes’ theorem</a></li>
<li class="chapter" data-level="11.5" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#further-resources-2"><i class="fa fa-check"></i><b>11.5</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="packages-and-references.html"><a href="packages-and-references.html"><i class="fa fa-check"></i><b>12</b> Packages and references</a></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="two-more-pipes.html"><a href="two-more-pipes.html"><i class="fa fa-check"></i><b>A</b> Two more pipes</a>
<ul>
<li class="chapter" data-level="A.1" data-path="two-more-pipes.html"><a href="two-more-pipes.html#expanding-the-tidyverse-the-exposition-pipe"><i class="fa fa-check"></i><b>A.1</b> Expanding the tidyverse: the exposition pipe (<code>%$%</code>)</a></li>
<li class="chapter" data-level="A.2" data-path="two-more-pipes.html"><a href="two-more-pipes.html#a-somewhat-risky-time-saver-the-assignment-pipe"><i class="fa fa-check"></i><b>A.2</b> A somewhat risky time-saver: the assignment pipe (<code>%&lt;&gt;%</code>)</a></li>
</ul></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="https://psyteachr.github.io/" target="blank">PsyTeachR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Getting started with Quantitative Research Methods and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interaction-terms-in-linear-models" class="section level1" number="6">
<h1><span class="header-section-number">Topic 6</span> Interaction terms in linear models</h1>
<p>Watch this video for an introduction to interaction terms in linear models:</p>
<iframe src=" https://www.youtube.com/embed/coyXicRccSg?rel=0 " allowfullscreen width="80%" height="350">
</iframe>
<p>The section below essentially contains the code needed for the examples in the video, with some further annotations. Before that, just one note on terminology:</p>
<ul>
<li>Generally, if two variables interact, then the effect that one has on the predictor (the regression slope) depends on the value of the other. Mathematically, that relationship is symetrical - if A interacts with B, then B interacts with A.</li>
<li>For interpretation, we often designate one of the variables as the <em>moderator</em>. That just means that we are primarily interested in the effect of the other variable on the outcome and in how the moderator changes that effect. Often, demographic variables such as age or gender serve as moderators.</li>
</ul>
<div id="example-1-memory-and-chess" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Example 1: Memory and chess</h2>
<p>The first example draws on research by Gobet &amp; Simon (1996) but uses simulated data.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="interaction-terms-in-linear-models.html#cb72-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb72-2"><a href="interaction-terms-in-linear-models.html#cb72-2"></a></span>
<span id="cb72-3"><a href="interaction-terms-in-linear-models.html#cb72-3"></a><span class="co">#Generate data (errors committed) - *roughly* based on Gobet &amp; Simon 1996</span></span>
<span id="cb72-4"><a href="interaction-terms-in-linear-models.html#cb72-4"></a><span class="kw">set.seed</span>(<span class="dv">300688</span>) <span class="co">#for reproducible results</span></span>
<span id="cb72-5"><a href="interaction-terms-in-linear-models.html#cb72-5"></a>ER &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>,<span class="fl">4.9</span>,<span class="fl">3.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb72-6"><a href="interaction-terms-in-linear-models.html#cb72-6"></a>NR &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="fl">15.7</span>, <span class="fl">4.0</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb72-7"><a href="interaction-terms-in-linear-models.html#cb72-7"></a>EF &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="fl">21.4</span>, <span class="dv">5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb72-8"><a href="interaction-terms-in-linear-models.html#cb72-8"></a>NF &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="fl">21.8</span>, <span class="dv">5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb72-9"><a href="interaction-terms-in-linear-models.html#cb72-9"></a></span>
<span id="cb72-10"><a href="interaction-terms-in-linear-models.html#cb72-10"></a>obs &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;expert&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;real&quot;</span>, <span class="dt">errors =</span> ER, <span class="dt">stringsAsFactors =</span> F) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-11"><a href="interaction-terms-in-linear-models.html#cb72-11"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;novice&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;real&quot;</span>, <span class="dt">errors =</span> NR, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span></span>
<span id="cb72-12"><a href="interaction-terms-in-linear-models.html#cb72-12"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;expert&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;fake&quot;</span>, <span class="dt">errors =</span> EF, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span></span>
<span id="cb72-13"><a href="interaction-terms-in-linear-models.html#cb72-13"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;novice&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;fake&quot;</span>, <span class="dt">errors =</span> NF, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-14"><a href="interaction-terms-in-linear-models.html#cb72-14"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">type=</span><span class="kw">factor</span>(type), <span class="dt">player =</span> <span class="kw">factor</span>(player, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;novice&quot;</span>, <span class="st">&quot;expert&quot;</span>)))</span>
<span id="cb72-15"><a href="interaction-terms-in-linear-models.html#cb72-15"></a></span>
<span id="cb72-16"><a href="interaction-terms-in-linear-models.html#cb72-16"></a></span>
<span id="cb72-17"><a href="interaction-terms-in-linear-models.html#cb72-17"></a><span class="co">#Adding the centrally mirrored condition</span></span>
<span id="cb72-18"><a href="interaction-terms-in-linear-models.html#cb72-18"></a>EM &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="fl">7.8</span>, <span class="fl">3.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb72-19"><a href="interaction-terms-in-linear-models.html#cb72-19"></a>NM &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="dv">18</span>, <span class="fl">3.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">50</span>, <span class="dv">0</span>, <span class="dv">2</span>)</span>
<span id="cb72-20"><a href="interaction-terms-in-linear-models.html#cb72-20"></a></span>
<span id="cb72-21"><a href="interaction-terms-in-linear-models.html#cb72-21"></a></span>
<span id="cb72-22"><a href="interaction-terms-in-linear-models.html#cb72-22"></a>obs2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;expert&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;real&quot;</span>, <span class="dt">errors =</span> ER, <span class="dt">stringsAsFactors =</span> F) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-23"><a href="interaction-terms-in-linear-models.html#cb72-23"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;novice&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;real&quot;</span>, <span class="dt">errors =</span> NR, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span></span>
<span id="cb72-24"><a href="interaction-terms-in-linear-models.html#cb72-24"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;expert&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;fake&quot;</span>, <span class="dt">errors =</span> EF, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span></span>
<span id="cb72-25"><a href="interaction-terms-in-linear-models.html#cb72-25"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;novice&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;fake&quot;</span>, <span class="dt">errors =</span> NF, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-26"><a href="interaction-terms-in-linear-models.html#cb72-26"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;expert&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;mirrored&quot;</span>, <span class="dt">errors =</span> EM, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-27"><a href="interaction-terms-in-linear-models.html#cb72-27"></a><span class="st">  </span><span class="kw">rbind</span>(<span class="kw">data.frame</span>(<span class="dt">player =</span> <span class="st">&quot;novice&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;mirrored&quot;</span>, <span class="dt">errors =</span> NM, <span class="dt">stringsAsFactors =</span> F)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-28"><a href="interaction-terms-in-linear-models.html#cb72-28"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">type=</span><span class="kw">factor</span>(type), <span class="dt">player =</span> <span class="kw">factor</span>(player, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;novice&quot;</span>, <span class="st">&quot;expert&quot;</span>)))</span></code></pre></div>
<p>The first model tests whether player level and position type interact. That is the case, based on the very small <em>p</em>-value of the interaction term. Then we use a plot to understand the nature of that interaction further - because the predictor is categorical, we use the <code>cat_plot()</code> function.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="interaction-terms-in-linear-models.html#cb73-1"></a>mod &lt;-<span class="st"> </span><span class="kw">lm</span>(errors <span class="op">~</span><span class="st"> </span>player <span class="op">+</span><span class="st"> </span>type <span class="op">+</span><span class="st"> </span>player<span class="op">:</span>type, obs)</span>
<span id="cb73-2"><a href="interaction-terms-in-linear-models.html#cb73-2"></a><span class="kw">summary</span>(mod)</span>
<span id="cb73-3"><a href="interaction-terms-in-linear-models.html#cb73-3"></a></span>
<span id="cb73-4"><a href="interaction-terms-in-linear-models.html#cb73-4"></a><span class="kw">library</span>(interactions)</span>
<span id="cb73-5"><a href="interaction-terms-in-linear-models.html#cb73-5"></a><span class="kw">cat_plot</span>(mod, <span class="dt">pred=</span><span class="st">&quot;player&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;type&quot;</span>, <span class="dt">geom=</span><span class="st">&quot;line&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-2"></span>
<img src="07-interaction-terms-in-linear-models_files/figure-html/unnamed-chunk-2-1.png" alt="Simple interaction plot - lines are not parallel" width="100%" />
<p class="caption">
Figure 4.1: Simple interaction plot - lines are not parallel
</p>
</div>
<pre><code>## 
## Call:
## lm(formula = errors ~ player + type + player:type, data = obs)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -13.8157  -3.6637  -0.0812   3.6591  14.2213 
## 
## Coefficients:
##                       Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)            21.5744     0.7398  29.164  &lt; 2e-16 ***
## playerexpert           -1.2240     1.0462  -1.170    0.243    
## typereal               -6.5092     1.0462  -6.222 2.91e-09 ***
## playerexpert:typereal  -8.0039     1.4795  -5.410 1.83e-07 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 5.231 on 196 degrees of freedom
## Multiple R-squared:  0.5892, Adjusted R-squared:  0.5829 
## F-statistic: 93.69 on 3 and 196 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Next we consider a third condition - chess positions that are neither quite real nor entirely fake, but positions that are mirrored. With that, we get multiple dummy interaction terms. To test whether they are collectively significant, we need to use the <code>Anova()</code> function from the <code>car</code> package.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="interaction-terms-in-linear-models.html#cb75-1"></a>mod &lt;-<span class="st"> </span><span class="kw">lm</span>(errors <span class="op">~</span><span class="st"> </span>player <span class="op">+</span><span class="st"> </span>type <span class="op">+</span><span class="st"> </span>player<span class="op">:</span>type, obs2)</span>
<span id="cb75-2"><a href="interaction-terms-in-linear-models.html#cb75-2"></a><span class="kw">summary</span>(mod)</span>
<span id="cb75-3"><a href="interaction-terms-in-linear-models.html#cb75-3"></a>car<span class="op">::</span><span class="kw">Anova</span>(mod, <span class="dt">type=</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = errors ~ player + type + player:type, data = obs2)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -13.8157  -3.3006  -0.0503   3.4305  14.2213 
## 
## Coefficients:
##                           Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                21.5744     0.6881  31.354  &lt; 2e-16 ***
## playerexpert               -1.2240     0.9731  -1.258    0.209    
## typemirrored               -4.6796     0.9731  -4.809 2.43e-06 ***
## typereal                   -6.5092     0.9731  -6.689 1.13e-10 ***
## playerexpert:typemirrored  -8.3088     1.3762  -6.038 4.71e-09 ***
## playerexpert:typereal      -8.0039     1.3762  -5.816 1.57e-08 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.866 on 294 degrees of freedom
## Multiple R-squared:  0.6085, Adjusted R-squared:  0.6018 
## F-statistic: 91.38 on 5 and 294 DF,  p-value: &lt; 2.2e-16
## 
## Anova Table (Type III tests)
## 
## Response: errors
##              Sum Sq  Df  F value    Pr(&gt;F)    
## (Intercept) 23272.7   1 983.0610 &lt; 2.2e-16 ***
## player         37.5   1   1.5821    0.2095    
## type         1126.9   2  23.8013 2.627e-10 ***
## player:type  1109.9   2  23.4420 3.580e-10 ***
## Residuals    6960.1 294                       
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>An interaction plot can then help again to understand what is going on. Here it shows that two of the three conditions are very similar.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="interaction-terms-in-linear-models.html#cb77-1"></a><span class="kw">cat_plot</span>(mod, <span class="dt">pred=</span><span class="st">&quot;player&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;type&quot;</span>, <span class="dt">geom=</span><span class="st">&quot;line&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="07-interaction-terms-in-linear-models_files/figure-html/unnamed-chunk-4-1.png" alt="Simple interaction plot - now 2 lines are parallel" width="100%" />
<p class="caption">
Figure 6.1: Simple interaction plot - now 2 lines are parallel
</p>
</div>
</div>
<div id="example-2-link-between-obesity-and-negative-emotions-in-the-european-social-survey" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Example 2: link between obesity and negative emotions in the European Social Survey</h2>
<p>In this example, I considered the link between obesity and negative emotions in Germany in the European Social Survey 2014. Note that this relationship does not appear in the UK, which indicates that it should probably be treated as an interesting observation rather than a likely general relationship for now.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="interaction-terms-in-linear-models.html#cb78-1"></a>ess &lt;-<span class="st"> </span><span class="kw">read_rds</span>(<span class="kw">url</span>(<span class="st">&quot;http://empower-training.de/Gold/round7.RDS&quot;</span>))</span>
<span id="cb78-2"><a href="interaction-terms-in-linear-models.html#cb78-2"></a></span>
<span id="cb78-3"><a href="interaction-terms-in-linear-models.html#cb78-3"></a>a &lt;-<span class="st"> </span>ess <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(cldgng, fltsd, enjlf, fltlnl, wrhpp, slprl, flteeff, fltdpr) <span class="op">%&gt;%</span><span class="st"> </span>psych<span class="op">::</span><span class="kw">alpha</span>(<span class="dt">check.keys =</span> <span class="ot">TRUE</span>)</span>
<span id="cb78-4"><a href="interaction-terms-in-linear-models.html#cb78-4"></a></span>
<span id="cb78-5"><a href="interaction-terms-in-linear-models.html#cb78-5"></a>ess<span class="op">$</span>depr &lt;-<span class="st"> </span>a<span class="op">$</span>scores</span>
<span id="cb78-6"><a href="interaction-terms-in-linear-models.html#cb78-6"></a></span>
<span id="cb78-7"><a href="interaction-terms-in-linear-models.html#cb78-7"></a>ess<span class="op">$</span>bmi &lt;-<span class="st"> </span>ess<span class="op">$</span>weight<span class="op">/</span>((ess<span class="op">$</span>height<span class="op">/</span><span class="dv">100</span>)<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb78-8"><a href="interaction-terms-in-linear-models.html#cb78-8"></a></span>
<span id="cb78-9"><a href="interaction-terms-in-linear-models.html#cb78-9"></a><span class="co">#Filter for Germans with realistic BMI who are not underweight and reported their gender</span></span>
<span id="cb78-10"><a href="interaction-terms-in-linear-models.html#cb78-10"></a>essDE &lt;-<span class="st"> </span>ess <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(bmi <span class="op">&lt;</span><span class="st"> </span><span class="dv">60</span>, bmi<span class="op">&gt;=</span><span class="dv">19</span>, gndr <span class="op">!=</span><span class="st"> &quot;No answer&quot;</span>, cntry<span class="op">==</span><span class="st">&quot;DE&quot;</span>)</span>
<span id="cb78-11"><a href="interaction-terms-in-linear-models.html#cb78-11"></a></span>
<span id="cb78-12"><a href="interaction-terms-in-linear-models.html#cb78-12"></a><span class="co">#Data prep for example 3 - strip unnecessary labels</span></span>
<span id="cb78-13"><a href="interaction-terms-in-linear-models.html#cb78-13"></a>ess<span class="op">$</span>stflife &lt;-<span class="st"> </span>haven<span class="op">::</span><span class="kw">zap_labels</span>(ess<span class="op">$</span>stflife)</span></code></pre></div>
<p>The <code>lm()</code> output shows that there is a significant interaction between gender and BMI, with women having a stronger relationship between BMI and the frequency of experiencing negative emotions. This is again shown in an interaction plot - as the predictor variable is continuous, we now use the <code>interact_plot()</code> function.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="interaction-terms-in-linear-models.html#cb79-1"></a>mod &lt;-<span class="st"> </span><span class="kw">lm</span>(depr <span class="op">~</span><span class="st"> </span>bmi <span class="op">+</span><span class="st"> </span>gndr <span class="op">+</span><span class="st"> </span>bmi<span class="op">:</span>gndr, essDE)</span>
<span id="cb79-2"><a href="interaction-terms-in-linear-models.html#cb79-2"></a><span class="kw">summary</span>(mod)</span>
<span id="cb79-3"><a href="interaction-terms-in-linear-models.html#cb79-3"></a><span class="kw">interact_plot</span>(mod, <span class="dt">pred=</span><span class="st">&quot;bmi&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;gndr&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="07-interaction-terms-in-linear-models_files/figure-html/unnamed-chunk-6-1.png" alt="interact_plot shows different slope for men and women" width="100%" />
<p class="caption">
Figure 4.3: interact_plot shows different slope for men and women
</p>
</div>
<pre><code>## 
## Call:
## lm(formula = depr ~ bmi + gndr + bmi:gndr, data = essDE)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.85559 -0.31936 -0.09363  0.25624  2.00783 
## 
## Coefficients:
##                 Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     1.486028   0.072229  20.574   &lt;2e-16 ***
## bmi             0.004674   0.002667   1.753   0.0797 .  
## gndrFemale     -0.091874   0.096134  -0.956   0.3393    
## bmi:gndrFemale  0.009284   0.003609   2.573   0.0101 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.438 on 2860 degrees of freedom
##   (2 observations deleted due to missingness)
## Multiple R-squared:  0.037,  Adjusted R-squared:  0.03599 
## F-statistic: 36.63 on 3 and 2860 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Note that <code>ggplot2</code> automatically includes an interaction when fitting regression lines when a categorical variable is mappes to the <code>colour</code> (or <code>linetype</code>) aesthetic.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="interaction-terms-in-linear-models.html#cb81-1"></a><span class="kw">ggplot</span>(essDE, <span class="kw">aes</span>(<span class="dt">x=</span>bmi, <span class="dt">y=</span>depr, <span class="dt">colour=</span>gndr)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>, <span class="dt">se=</span><span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>## Don&#39;t know how to automatically pick scale for object of type haven_labelled. Defaulting to continuous.</code></pre>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_smooth).</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-7"></span>
<img src="07-interaction-terms-in-linear-models_files/figure-html/unnamed-chunk-7-1.png" alt="ggplot automatically includes interaction" width="100%" />
<p class="caption">
Figure 6.2: ggplot automatically includes interaction
</p>
</div>
</div>
<div id="example-3-link-between-working-hours-income-and-life-satisfaction" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Example 3: link between working hours, income and life satisfaction</h2>
<p>This example considers whether working hours affect the link between income and life satisfaction - i.e. does working very long hours make income less valuable? This time, the effect appeared in the UK data in the 2014 European Social Survey - again, the question might be whether that is just an incident of spurious data mining, or whether it reveals a broader relationship.</p>
<p>In any case, let’s have a look at the interaction. Note that <code>*</code> in the <code>lm()</code> formula is an abbreviation for <code>+</code> and <code>:</code>, so that the command below could also be written as <code>lm(stflife ~ wkhtot + hinctnta + wkhtot:hinctnta)</code></p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="interaction-terms-in-linear-models.html#cb85-1"></a>essUK &lt;-<span class="st"> </span><span class="kw">filter</span>(ess, cntry <span class="op">==</span><span class="st"> &quot;GB&quot;</span>)</span>
<span id="cb85-2"><a href="interaction-terms-in-linear-models.html#cb85-2"></a>mod &lt;-<span class="st"> </span><span class="kw">lm</span>(stflife <span class="op">~</span><span class="st"> </span>wkhtot<span class="op">*</span>hinctnta, essUK) </span>
<span id="cb85-3"><a href="interaction-terms-in-linear-models.html#cb85-3"></a><span class="kw">summary</span>(mod)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = stflife ~ wkhtot * hinctnta, data = essUK)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -7.9013 -0.9305  0.3023  1.3331  3.6527 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)      6.085338   0.242722  25.071  &lt; 2e-16 ***
## wkhtot           0.008065   0.006235   1.293   0.1960    
## hinctnta         0.238197   0.043684   5.453 5.64e-08 ***
## wkhtot:hinctnta -0.002129   0.001055  -2.019   0.0437 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.023 on 1810 degrees of freedom
##   (450 observations deleted due to missingness)
## Multiple R-squared:  0.05154,    Adjusted R-squared:  0.04997 
## F-statistic: 32.79 on 3 and 1810 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>We can see that while income positively predicts life satisfaction, this effects appears to be weaker when both income andd working hours are high. However, we need to be careful with interpretation here - technically, the coefficients for income and working hours now reflect the impact of that variable when the other variable is 0, and are thus unlikely to be meaningful. Therefore, it is better to look at the interaction plot and at simple slopes analyses. Both can now be done in two ways, depending on which variable we see as the primary predictor/variable of interest.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="interaction-terms-in-linear-models.html#cb87-1"></a><span class="kw">interact_plot</span>(mod, <span class="dt">pred=</span><span class="st">&quot;hinctnta&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;wkhtot&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-9"></span>
<img src="07-interaction-terms-in-linear-models_files/figure-html/unnamed-chunk-9-1.png" alt="Option A: strong positive effect of income, tempered by working hours" width="100%" />
<p class="caption">
Figure 6.3: Option A: strong positive effect of income, tempered by working hours
</p>
</div>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="interaction-terms-in-linear-models.html#cb88-1"></a><span class="kw">interact_plot</span>(mod, <span class="dt">pred=</span><span class="st">&quot;wkhtot&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;hinctnta&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-10"></span>
<img src="07-interaction-terms-in-linear-models_files/figure-html/unnamed-chunk-10-1.png" alt="Option B: very different effects of working hours, depending on income" width="100%" />
<p class="caption">
Figure 6.4: Option B: very different effects of working hours, depending on income
</p>
</div>
<p>Simple slopes analyses (<code>sim_slopes()</code>) offer similar information together with significance tests and thus help to decide which of the slopes should really be interpreted. They contain the Johnson-Neyman interval, which is the range of values of the moderator for which the predictor has a significant effect on the outcome.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="interaction-terms-in-linear-models.html#cb89-1"></a><span class="kw">sim_slopes</span>(mod, <span class="dt">pred=</span><span class="st">&quot;hinctnta&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;wkhtot&quot;</span>)</span>
<span id="cb89-2"><a href="interaction-terms-in-linear-models.html#cb89-2"></a><span class="kw">sim_slopes</span>(mod, <span class="dt">pred=</span><span class="st">&quot;wkhtot&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;hinctnta&quot;</span>)</span></code></pre></div>
<pre><code>## JOHNSON-NEYMAN INTERVAL 
## 
## When wkhtot is OUTSIDE the interval [74.17, 2622.20], the slope of hinctnta
## is p &lt; .05.
## 
## Note: The range of observed values of wkhtot is [1.00, 105.00]
## 
## SIMPLE SLOPES ANALYSIS 
## 
## Slope of hinctnta when wkhtot = 22.73 (- 1 SD): 
## 
##   Est.   S.E.   t val.      p
## ------ ------ -------- ------
##   0.19   0.02     8.19   0.00
## 
## Slope of hinctnta when wkhtot = 37.72 (Mean): 
## 
##   Est.   S.E.   t val.      p
## ------ ------ -------- ------
##   0.16   0.02     9.76   0.00
## 
## Slope of hinctnta when wkhtot = 52.71 (+ 1 SD): 
## 
##   Est.   S.E.   t val.      p
## ------ ------ -------- ------
##   0.13   0.02     5.71   0.00
## 
## JOHNSON-NEYMAN INTERVAL 
## 
## When hinctnta is OUTSIDE the interval [-43.03, 7.73], the slope of wkhtot
## is p &lt; .05.
## 
## Note: The range of observed values of hinctnta is [1.00, 10.00]
## 
## SIMPLE SLOPES ANALYSIS 
## 
## Slope of wkhtot when hinctnta = 2.07 (- 1 SD): 
## 
##   Est.   S.E.   t val.      p
## ------ ------ -------- ------
##   0.00   0.00     0.81   0.42
## 
## Slope of wkhtot when hinctnta = 5.05 (Mean): 
## 
##    Est.   S.E.   t val.      p
## ------- ------ -------- ------
##   -0.00   0.00    -0.84   0.40
## 
## Slope of wkhtot when hinctnta = 8.04 (+ 1 SD): 
## 
##    Est.   S.E.   t val.      p
## ------- ------ -------- ------
##   -0.01   0.00    -2.01   0.04</code></pre>
<p>Finally, the <code>johnson_neyman()</code> function creates a plot showing the slope of one variable depending on the value of the other, while highlighting the regions of significance. This can help with an understanding of the relationship, but is not (yet?) widely used.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="interaction-terms-in-linear-models.html#cb91-1"></a><span class="kw">johnson_neyman</span>(mod, <span class="dt">pred=</span><span class="st">&quot;wkhtot&quot;</span>, <span class="dt">modx =</span> <span class="st">&quot;hinctnta&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-12"></span>
<img src="07-interaction-terms-in-linear-models_files/figure-html/unnamed-chunk-12-1.png" alt="**CAPTION THIS FIGURE!!**" width="100%" />
<p class="caption">
Figure 6.5: <strong>CAPTION THIS FIGURE!!</strong>
</p>
</div>
<pre><code>## JOHNSON-NEYMAN INTERVAL 
## 
## When hinctnta is OUTSIDE the interval [-43.03, 7.73], the slope of wkhtot
## is p &lt; .05.
## 
## Note: The range of observed values of hinctnta is [1.00, 10.00]</code></pre>

</div>
</div>
<div class="psyteachr_footer">
  
</div>
<script>

/* update total correct if #total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("total_correct")) {
    t.innerHTML =
      document.getElementsByClassName("correct").length + " of " +
      document.getElementsByClassName("solveme").length + " correct";
  }
}

/* solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "");
  }
  
  if (my_answer !== "" & real_answers.includes(my_answer)) {
    cl.add("correct");
  } else {
    cl.remove("correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol){
    var tol = JSON.parse(this.dataset.tol);  
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("correct");
    } else {
      cl.remove("correct");
    }  
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("correct");
    }  
  }
  
  update_total_correct();
}

window.onload = function() {
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('solution')) {
      buttons[i].onclick = b_func;
    }
  }
  
  /* set up solveme inputs */
  var solveme = document.getElementsByClassName("solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off"); 
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";
    
    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;
    
    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="comparing-means-between-conditions-or-groups.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chi-squared-tests-for-associations-between-categorical-variables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
