<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 2 Importing and describing data | Getting started with Quantitative Research Methods and R</title>
  <meta name="description" content="These are some of the course materials for the Goldsmiths’ Core Quantitative Research Methods course. It is a living document that will be updated regularly." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 2 Importing and describing data | Getting started with Quantitative Research Methods and R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are some of the course materials for the Goldsmiths’ Core Quantitative Research Methods course. It is a living document that will be updated regularly." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 2 Importing and describing data | Getting started with Quantitative Research Methods and R" />
  
  <meta name="twitter:description" content="These are some of the course materials for the Goldsmiths’ Core Quantitative Research Methods course. It is a living document that will be updated regularly." />
  

<meta name="author" content="Lukas Wallrich" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="getting-started-with-r.html"/>
<link rel="next" href="data-visualisation.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="include/psyteachr.css" type="text/css" />
<link rel="stylesheet" href="include/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Getting started with Quantitative Research Methods and R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#further-sources"><i class="fa fa-check"></i><b>0.1</b> Further sources</a><ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#free-online-books"><i class="fa fa-check"></i><b>0.1.1</b> Free online books</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#paperlibrary-books"><i class="fa fa-check"></i><b>0.1.2</b> Paper/library books</a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#other-key-resources"><i class="fa fa-check"></i><b>0.1.3</b> Other key resources</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i><b>0.2</b> Why R?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>1</b> Getting started with R</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#install-r-on-your-computer"><i class="fa fa-check"></i><b>1.1</b> Install R on your computer</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#some-key-concepts"><i class="fa fa-check"></i><b>1.2</b> Some key concepts</a><ul>
<li class="chapter" data-level="1.2.1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#r-rstudio-and-r-packages"><i class="fa fa-check"></i><b>1.2.1</b> R, RStudio and R packages</a></li>
<li class="chapter" data-level="1.2.2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#data-and-variables-in-r"><i class="fa fa-check"></i><b>1.2.2</b> Data and variables in R</a></li>
<li class="chapter" data-level="1.2.3" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#functions-in-r"><i class="fa fa-check"></i><b>1.2.3</b> Functions in R</a></li>
<li class="chapter" data-level="1.2.4" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#key-r-packages"><i class="fa fa-check"></i><b>1.2.4</b> Key R packages</a></li>
<li class="chapter" data-level="1.2.5" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#rmarkdown"><i class="fa fa-check"></i><b>1.2.5</b> RMarkdown</a></li>
<li class="chapter" data-level="1.2.6" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#help-what-to-do-when-problems-appear"><i class="fa fa-check"></i><b>1.2.6</b> HELP! What to do when problems appear?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html"><i class="fa fa-check"></i><b>2</b> Importing and describing data</a><ul>
<li class="chapter" data-level="2.1" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html#importing-data-into-r"><i class="fa fa-check"></i><b>2.1</b> Importing data into R</a></li>
<li class="chapter" data-level="2.2" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html#view-data"><i class="fa fa-check"></i><b>2.2</b> View data</a></li>
<li class="chapter" data-level="2.3" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html#manipulating-data-and-using-dplyr"><i class="fa fa-check"></i><b>2.3</b> Manipulating data and using dplyr</a></li>
<li class="chapter" data-level="2.4" data-path="importing-and-describing-data.html"><a href="importing-and-describing-data.html#summarise-data-descriptive-statistics"><i class="fa fa-check"></i><b>2.4</b> Summarise data (descriptive statistics)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data visualisation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#ggplot2"><i class="fa fa-check"></i><b>3.1</b> ggplot2</a></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#further-resources"><i class="fa fa-check"></i><b>3.2</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html"><i class="fa fa-check"></i><b>4</b> Simple and multiple linear regression</a><ul>
<li class="chapter" data-level="4.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>4.1</b> Simple linear regression</a><ul>
<li class="chapter" data-level="4.1.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#plotting-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>4.1.1</b> Plotting a simple linear regression model</a></li>
<li class="chapter" data-level="4.1.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#mathematical-representation-of-a-simple-linear-regression-model"><i class="fa fa-check"></i><b>4.1.2</b> Mathematical representation of a simple linear regression model</a></li>
<li class="chapter" data-level="4.1.3" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#fitting-a-simple-linear-regression-model-in-r"><i class="fa fa-check"></i><b>4.1.3</b> Fitting a simple linear regression model in R</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#bivariate-correlation"><i class="fa fa-check"></i><b>4.2</b> Bivariate correlation</a><ul>
<li class="chapter" data-level="4.2.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#calculating-the-correlation-coefficient"><i class="fa fa-check"></i><b>4.2.1</b> Calculating the correlation coefficient</a></li>
<li class="chapter" data-level="4.2.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#equivalence-to-linear-regression"><i class="fa fa-check"></i><b>4.2.2</b> Equivalence to linear regression</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>4.3</b> Multiple linear regression</a><ul>
<li class="chapter" data-level="4.3.1" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#dummy-coding-revisited"><i class="fa fa-check"></i><b>4.3.1</b> Dummy coding revisited</a></li>
<li class="chapter" data-level="4.3.2" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#mathematical-structure-of-multiple-linear-models"><i class="fa fa-check"></i><b>4.3.2</b> Mathematical structure of multiple linear models</a></li>
<li class="chapter" data-level="4.3.3" data-path="simple-and-multiple-linear-regression.html"><a href="simple-and-multiple-linear-regression.html#running-multiple-linear-regression-models-in-r"><i class="fa fa-check"></i><b>4.3.3</b> Running multiple linear regression models in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html"><i class="fa fa-check"></i><b>5</b> Comparing means between conditions or groups</a><ul>
<li class="chapter" data-level="5.0.1" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#repeated-measures-or-independent-samples"><i class="fa fa-check"></i><b>5.0.1</b> Repeated measures or independent samples</a></li>
<li class="chapter" data-level="5.0.2" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#two-independent-means"><i class="fa fa-check"></i><b>5.0.2</b> Two independent means</a></li>
<li class="chapter" data-level="5.0.3" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#two-dependent-means"><i class="fa fa-check"></i><b>5.0.3</b> Two dependent means</a></li>
<li class="chapter" data-level="5.0.4" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#more-than-two-independent-means"><i class="fa fa-check"></i><b>5.0.4</b> More than two independent means</a></li>
<li class="chapter" data-level="5.0.5" data-path="comparing-means-between-conditions-or-groups.html"><a href="comparing-means-between-conditions-or-groups.html#more-than-two-means-from-repeated-measures"><i class="fa fa-check"></i><b>5.0.5</b> More than two means from repeated measures</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html"><i class="fa fa-check"></i><b>6</b> Interaction terms in linear models</a><ul>
<li class="chapter" data-level="6.1" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html#example-1-memory-and-chess"><i class="fa fa-check"></i><b>6.1</b> Example 1: Memory and chess</a></li>
<li class="chapter" data-level="6.2" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html#example-2-link-between-obesity-and-negative-emotions-in-the-european-social-survey"><i class="fa fa-check"></i><b>6.2</b> Example 2: link between obesity and negative emotions in the European Social Survey</a></li>
<li class="chapter" data-level="6.3" data-path="interaction-terms-in-linear-models.html"><a href="interaction-terms-in-linear-models.html#example-3-link-between-working-hours-income-and-life-satisfaction"><i class="fa fa-check"></i><b>6.3</b> Example 3: link between working hours, income and life satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html"><i class="fa fa-check"></i><b>7</b> Chi-squared tests for associations between categorical variables</a><ul>
<li class="chapter" data-level="7.1" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#tables-of-frequencies-and-proportions"><i class="fa fa-check"></i><b>7.1</b> Tables of frequencies and proportions</a></li>
<li class="chapter" data-level="7.2" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#the-null-hypothesis-and-the-chi2-statistic"><i class="fa fa-check"></i><b>7.2</b> The null hypothesis and the <span class="math inline">\(\chi^2\)</span> statistic</a></li>
<li class="chapter" data-level="7.3" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#the-chisq.test-function"><i class="fa fa-check"></i><b>7.3</b> The chisq.test() function</a><ul>
<li class="chapter" data-level="7.3.1" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#dealing-with-small-samples"><i class="fa fa-check"></i><b>7.3.1</b> Dealing with small samples</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#post-hoc-tests"><i class="fa fa-check"></i><b>7.4</b> Post-hoc tests</a></li>
<li class="chapter" data-level="7.5" data-path="chi-squared-tests-for-associations-between-categorical-variables.html"><a href="chi-squared-tests-for-associations-between-categorical-variables.html#effect-sizes"><i class="fa fa-check"></i><b>7.5</b> Effect sizes</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html"><i class="fa fa-check"></i><b>8</b> Reporting the results of statistical tests</a><ul>
<li class="chapter" data-level="8.1" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#essential-pieces-of-information"><i class="fa fa-check"></i><b>8.1</b> Essential pieces of information</a><ul>
<li class="chapter" data-level="8.1.1" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#what-to-include-for-specific-tests"><i class="fa fa-check"></i><b>8.1.1</b> What to include for specific tests</a></li>
<li class="chapter" data-level="8.1.2" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#formatting"><i class="fa fa-check"></i><b>8.1.2</b> Formatting</a></li>
<li class="chapter" data-level="8.1.3" data-path="reporting-the-results-of-statistical-tests.html"><a href="reporting-the-results-of-statistical-tests.html#rounding"><i class="fa fa-check"></i><b>8.1.3</b> Rounding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="survey-research-testing-scales.html"><a href="survey-research-testing-scales.html"><i class="fa fa-check"></i><b>9</b> Survey research - testing scales</a><ul>
<li class="chapter" data-level="9.1" data-path="survey-research-testing-scales.html"><a href="survey-research-testing-scales.html#creating-scales"><i class="fa fa-check"></i><b>9.1</b> Creating scales</a><ul>
<li class="chapter" data-level="9.1.1" data-path="survey-research-testing-scales.html"><a href="survey-research-testing-scales.html#testing-internal-consistency"><i class="fa fa-check"></i><b>9.1.1</b> Testing internal consistency</a></li>
<li class="chapter" data-level="9.1.2" data-path="survey-research-testing-scales.html"><a href="survey-research-testing-scales.html#calculating-scale-scores"><i class="fa fa-check"></i><b>9.1.2</b> Calculating scale scores</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-visualisation.html"><a href="data-visualisation.html#further-resources"><i class="fa fa-check"></i><b>9.2</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html"><i class="fa fa-check"></i><b>10</b> Accessing online data sources</a><ul>
<li class="chapter" data-level="10.1" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html#world-bank-data"><i class="fa fa-check"></i><b>10.1</b> World Bank data</a></li>
<li class="chapter" data-level="10.2" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html#wikidata"><i class="fa fa-check"></i><b>10.2</b> Wikidata</a></li>
<li class="chapter" data-level="10.3" data-path="accessing-online-data-sources.html"><a href="accessing-online-data-sources.html#other-data-sources"><i class="fa fa-check"></i><b>10.3</b> Other data sources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html"><i class="fa fa-check"></i><b>11</b> Dealing with missing data</a><ul>
<li class="chapter" data-level="11.1" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#example"><i class="fa fa-check"></i><b>11.1</b> Example</a><ul>
<li class="chapter" data-level="11.1.1" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#case-deletion"><i class="fa fa-check"></i><b>11.1.1</b> Case deletion</a></li>
<li class="chapter" data-level="11.1.2" data-path="dealing-with-missing-data.html"><a href="dealing-with-missing-data.html#imputation"><i class="fa fa-check"></i><b>11.1.2</b> Imputation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="data-visualisation.html"><a href="data-visualisation.html#further-resources"><i class="fa fa-check"></i><b>11.2</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html"><i class="fa fa-check"></i><b>12</b> Probability in statistics and real life</a><ul>
<li class="chapter" data-level="12.1" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#what-are-probabilities"><i class="fa fa-check"></i><b>12.1</b> What are probabilities?</a></li>
<li class="chapter" data-level="12.2" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#combining-multiple-events-together"><i class="fa fa-check"></i><b>12.2</b> Combining multiple events together</a></li>
<li class="chapter" data-level="12.3" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#looking-at-independent-events"><i class="fa fa-check"></i><b>12.3</b> Looking at independent events</a></li>
<li class="chapter" data-level="12.4" data-path="probability-in-statistics-and-real-life.html"><a href="probability-in-statistics-and-real-life.html#updating-our-beliefs---bayes-theorem"><i class="fa fa-check"></i><b>12.4</b> Updating our beliefs - Bayes’ theorem</a></li>
<li class="chapter" data-level="12.5" data-path="data-visualisation.html"><a href="data-visualisation.html#further-resources"><i class="fa fa-check"></i><b>12.5</b> Further resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="test-pls-ignore.html"><a href="test-pls-ignore.html"><i class="fa fa-check"></i><b>13</b> Test (pls ignore)</a></li>
<li class="chapter" data-level="14" data-path="packages-and-references.html"><a href="packages-and-references.html"><i class="fa fa-check"></i><b>14</b> Packages and references</a></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="two-more-pipes.html"><a href="two-more-pipes.html"><i class="fa fa-check"></i><b>A</b> Two more pipes</a><ul>
<li class="chapter" data-level="A.1" data-path="two-more-pipes.html"><a href="two-more-pipes.html#expanding-the-tidyverse-the-exposition-pipe"><i class="fa fa-check"></i><b>A.1</b> Expanding the tidyverse: the exposition pipe (<code>%$%</code>)</a></li>
<li class="chapter" data-level="A.2" data-path="two-more-pipes.html"><a href="two-more-pipes.html#a-somewhat-risky-time-saver-the-assignment-pipe"><i class="fa fa-check"></i><b>A.2</b> A somewhat risky time-saver: the assignment pipe (<code>%&lt;&gt;%</code>)</a></li>
</ul></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="https://psyteachr.github.io/" target="blank">PsyTeachR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Getting started with Quantitative Research Methods and R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-and-describing-data" class="section level1">
<h1><span class="header-section-number">Topic 2</span> Importing and describing data</h1>
<div id="importing-data-into-r" class="section level2">
<h2><span class="header-section-number">2.1</span> Importing data into R</h2>
<p>Generally, R is a poor choice for data entry, so you will usually import data from spreadsheet software or other sources. That also helps to keep data and analyses apart, and thereby increases transparency.</p>
<p>The most common ways to import data into R are to</p>
<ul>
<li>read tabular data saved as text (such as the common <em>.csv</em> files) with the <code>readr</code> package</li>
<li>read Excel files with the <code>readxl</code> package</li>
<li>read data files from SPSS or SAS with <code>haven</code>.</li>
</ul>
<p>In these packages, the functions to read data are always <code>read_x()</code>, with x replaced by the type of file you want to open. You always need to specify the name of the datafile, with its path (unless it is in the same folder as your .Rmd file), as the first argument of the <code>read_x()</code> function. For the path, it can be helpful to start with the dot (<code>.</code>), which means: start from the current folder. For example, I often have a data folder within the folder where the .Rmd file is, so that the path would then be <code>"./data/file.csv"</code>. Always remember to assign the result of the function (i.e. the data) to a variable using <code>&lt;-</code>, otherwise the data is just printed and not saved in R.</p>
<p>The functions that load data from tables need to establish the variable class for each variable. They can either guess (which you will then need to check), or you can provide the classes in the <code>col_types</code>-argument. Check <code>?readr::read_csv</code> for details.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="importing-and-describing-data.html#cb7-1"></a><span class="co">#readr is loaded with the tidyverse, but can be loaded separately as well if you don&#39;t need the other packages</span></span>
<span id="cb7-2"><a href="importing-and-describing-data.html#cb7-2"></a>pacman<span class="op">::</span><span class="kw">p_load</span>(readr)</span>
<span id="cb7-3"><a href="importing-and-describing-data.html#cb7-3"></a>gapminder &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;./data/gapminder.csv&quot;</span>, <span class="dt">col_types =</span> <span class="st">&quot;finnnnnff&quot;</span>)</span>
<span id="cb7-4"><a href="importing-and-describing-data.html#cb7-4"></a></span>
<span id="cb7-5"><a href="importing-and-describing-data.html#cb7-5"></a>pacman<span class="op">::</span><span class="kw">p_load</span>(readxl)</span>
<span id="cb7-6"><a href="importing-and-describing-data.html#cb7-6"></a>gapminder &lt;-<span class="st"> </span><span class="kw">read_xlsx</span>(<span class="st">&quot;./data/gapminder.xlsx&quot;</span>) <span class="co">#Here col_types are not defined so that R will guess and print out the results - make sure to check whether the classes are what you would expect</span></span>
<span id="cb7-7"><a href="importing-and-describing-data.html#cb7-7"></a></span>
<span id="cb7-8"><a href="importing-and-describing-data.html#cb7-8"></a>pacman<span class="op">::</span><span class="kw">p_load</span>(haven)</span>
<span id="cb7-9"><a href="importing-and-describing-data.html#cb7-9"></a>gapminder &lt;-<span class="st"> </span><span class="kw">read_sav</span>(<span class="st">&quot;./data/gapminder.sav&quot;</span>) <span class="co">#SPSS files contain information on the class of each variable, so that col_types do not need to be defined</span></span></code></pre></div>
<p>There are shortcuts to quickly get some data into R, which can be helpful if you just want to try something out - all of them only make sense in the Console, not in a .Rmd script. Using the <code>edit()</code> function, you can open up a simple spreadsheet to edit and input data, using the <code>read.table(file="clipboard", sep="\t")</code>, you can get data you copied in Excel. As with all ways of importing data, remember to assign the result to a variable.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="importing-and-describing-data.html#cb8-1"></a><span class="co">#If you want to edit an existing dataset</span></span>
<span id="cb8-2"><a href="importing-and-describing-data.html#cb8-2"></a>gapminder_corrected &lt;-<span class="st"> </span><span class="kw">edit</span>(gapminder)</span>
<span id="cb8-3"><a href="importing-and-describing-data.html#cb8-3"></a></span>
<span id="cb8-4"><a href="importing-and-describing-data.html#cb8-4"></a><span class="co">#If you want to type or copy in a new dataset</span></span>
<span id="cb8-5"><a href="importing-and-describing-data.html#cb8-5"></a>yourdata &lt;-<span class="st"> </span><span class="kw">edit</span>(<span class="kw">data.frame</span>())</span>
<span id="cb8-6"><a href="importing-and-describing-data.html#cb8-6"></a><span class="co">#The data.frame() function creates an empty dataframe for you to then edit</span></span>
<span id="cb8-7"><a href="importing-and-describing-data.html#cb8-7"></a></span>
<span id="cb8-8"><a href="importing-and-describing-data.html#cb8-8"></a><span class="co">#If you want to read data from the clipboard</span></span>
<span id="cb8-9"><a href="importing-and-describing-data.html#cb8-9"></a>pasted &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;clipboard&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)</span>
<span id="cb8-10"><a href="importing-and-describing-data.html#cb8-10"></a></span>
<span id="cb8-11"><a href="importing-and-describing-data.html#cb8-11"></a><span class="co">#If that data contains variable names in the first row:</span></span>
<span id="cb8-12"><a href="importing-and-describing-data.html#cb8-12"></a>pasted &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;clipboard&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)</span>
<span id="cb8-13"><a href="importing-and-describing-data.html#cb8-13"></a></span>
<span id="cb8-14"><a href="importing-and-describing-data.html#cb8-14"></a><span class="co">#Note that reading data from the clipboard does not always work - if it doesn&#39;t, </span></span>
<span id="cb8-15"><a href="importing-and-describing-data.html#cb8-15"></a><span class="co">#try pasting your data into the window opened with the edit() function</span></span></code></pre></div>
</div>
<div id="view-data" class="section level2">
<h2><span class="header-section-number">2.2</span> View data</h2>
<p>When you start with a new dataset, there are some helpful functions to get a first look at the data: <code>glimpse()</code>gives a good overview of the variables contained in the dataset, while <code>head()</code> and <code>tail()</code> print the first and last lines. In the <strong>Console</strong> (but not really within scripts such as .Rmd files), you can also use <code>View()</code> to open up the whole dataset. Finally, you can have a look at data in the <strong>Environment</strong> pane in RStudio.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="importing-and-describing-data.html#cb9-1"></a>pacman<span class="op">::</span><span class="kw">p_load</span>(dslabs) <span class="co">#Load the gapminder teaching dataset</span></span></code></pre></div>
<pre><code>## Installing package into &#39;/home/runner/work/_temp/Library&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## 
## dslabs installed</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="importing-and-describing-data.html#cb12-1"></a><span class="kw">glimpse</span>(gapminder)</span>
<span id="cb12-2"><a href="importing-and-describing-data.html#cb12-2"></a><span class="kw">head</span>(gapminder, <span class="dt">n=</span><span class="dv">5</span>) <span class="co">#n defines number of rows shown</span></span>
<span id="cb12-3"><a href="importing-and-describing-data.html#cb12-3"></a><span class="kw">tail</span>(gapminder, <span class="dt">n=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Rows: 10,545
## Columns: 9
## $ country          [3m[90m&lt;fct&gt;[39m[23m Albania, Algeria, Angola, Antigua and Barbuda, Argen…
## $ year             [3m[90m&lt;int&gt;[39m[23m 1960, 1960, 1960, 1960, 1960, 1960, 1960, 1960, 1960…
## $ infant_mortality [3m[90m&lt;dbl&gt;[39m[23m 115.40, 148.20, 208.00, NA, 59.87, NA, NA, 20.30, 37…
## $ life_expectancy  [3m[90m&lt;dbl&gt;[39m[23m 62.87, 47.50, 35.98, 62.97, 65.39, 66.86, 65.66, 70.…
## $ fertility        [3m[90m&lt;dbl&gt;[39m[23m 6.19, 7.65, 7.32, 4.43, 3.11, 4.55, 4.82, 3.45, 2.70…
## $ population       [3m[90m&lt;dbl&gt;[39m[23m 1636054, 11124892, 5270844, 54681, 20619075, 1867396…
## $ gdp              [3m[90m&lt;dbl&gt;[39m[23m NA, 13828152297, NA, NA, 108322326649, NA, NA, 96677…
## $ continent        [3m[90m&lt;fct&gt;[39m[23m Europe, Africa, Africa, Americas, Americas, Asia, Am…
## $ region           [3m[90m&lt;fct&gt;[39m[23m Southern Europe, Northern Africa, Middle Africa, Car…
##               country year infant_mortality life_expectancy fertility
## 1             Albania 1960           115.40           62.87      6.19
## 2             Algeria 1960           148.20           47.50      7.65
## 3              Angola 1960           208.00           35.98      7.32
## 4 Antigua and Barbuda 1960               NA           62.97      4.43
## 5           Argentina 1960            59.87           65.39      3.11
##   population          gdp continent          region
## 1    1636054           NA    Europe Southern Europe
## 2   11124892  13828152297    Africa Northern Africa
## 3    5270844           NA    Africa   Middle Africa
## 4      54681           NA  Americas       Caribbean
## 5   20619075 108322326649  Americas   South America
##                  country year infant_mortality life_expectancy fertility
## 10541 West Bank and Gaza 2016               NA           74.70        NA
## 10542            Vietnam 2016               NA           75.60        NA
## 10543              Yemen 2016               NA           64.92        NA
## 10544             Zambia 2016               NA           57.10        NA
## 10545           Zimbabwe 2016               NA           61.69        NA
##       population gdp continent             region
## 10541         NA  NA      Asia       Western Asia
## 10542         NA  NA      Asia South-Eastern Asia
## 10543         NA  NA      Asia       Western Asia
## 10544         NA  NA    Africa     Eastern Africa
## 10545         NA  NA    Africa     Eastern Africa</code></pre>
</div>
<div id="manipulating-data-and-using-dplyr" class="section level2">
<h2><span class="header-section-number">2.3</span> Manipulating data and using dplyr</h2>
<p>Once you have imported your data into R, you might need to filter it, sort it, add some new variables, and calculate summaries. The <code>dplyr</code> package (part of the <code>tidyverse</code>) is designed to make all these steps easier, so we use it extensively during this course. <code>dplyr</code> is based on two main ideas:</p>
<ul>
<li>Develop a chain of data manipulation steps that get you towards the desired data, with the steps connected by the <code>%&gt;%</code> operator (“pipe”). That removes the need for nested functions or for saving lots of intermediate results.</li>
<li>Use functions names after natural language verbs to develop code that can be easily understood.</li>
</ul>
<p><code>%&gt;%</code> takes the argument on the left and places it as the first argument into the function on the right. For example:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="importing-and-describing-data.html#cb14-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>, <span class="ot">NA</span>)</span>
<span id="cb14-2"><a href="importing-and-describing-data.html#cb14-2"></a></span>
<span id="cb14-3"><a href="importing-and-describing-data.html#cb14-3"></a><span class="co">#The following two commands are equivalent</span></span>
<span id="cb14-4"><a href="importing-and-describing-data.html#cb14-4"></a><span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb14-5"><a href="importing-and-describing-data.html#cb14-5"></a>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mean</span>(<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 2
## [1] 2</code></pre>
<p>The most important <code>dplyr</code> functions are:</p>
<ul>
<li><code>select()</code>: select specific variables</li>
<li><code>filter()</code>: filter rows based on condition</li>
<li><code>arrange()</code>: sort data ascendingly (arrange(desc()) to reverse)</li>
<li><code>mutate()</code>: create/change variables</li>
<li><code>summarise()</code>: calculate summary statistics</li>
<li><code>group_by()</code>: separate data into groups, usually to summarise by group</li>
</ul>
<p>All functions use a dataframe as their first argument, usually from <code>%&gt;%</code>. After that, variables in the dataframe are accessed just with their name (no <code>$</code>).</p>
<p>If we want to calculate the average income per capita in 2010 on each continent from the gapminder dataset, we need most of these functions - if you <strong>read the <code>%&gt;%</code>-operator as ‘then’</strong>, and mentally add ‘take’ at the very start, you should be able to follow along quite naturally.</p>
<p><em>One thing to note:</em> you can split R code into multiple lines as long as each line is incomplete. Since the lines here end with <code>%&gt;%</code>, R includes the next line into the same command. If that operator was moved to the start of the next line, the code would no longer work.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="importing-and-describing-data.html#cb16-1"></a>pacman<span class="op">::</span><span class="kw">p_load</span>(dplyr)</span>
<span id="cb16-2"><a href="importing-and-describing-data.html#cb16-2"></a>gapminder <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-3"><a href="importing-and-describing-data.html#cb16-3"></a><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2010</span>) <span class="op">%&gt;%</span></span>
<span id="cb16-4"><a href="importing-and-describing-data.html#cb16-4"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">gdpPerCap =</span> gdp<span class="op">/</span>population) <span class="op">%&gt;%</span></span>
<span id="cb16-5"><a href="importing-and-describing-data.html#cb16-5"></a><span class="st">      </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(gdpPerCap)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-6"><a href="importing-and-describing-data.html#cb16-6"></a><span class="st">      </span><span class="co">#This filter() removes countries where either gdp or population is missing</span></span>
<span id="cb16-7"><a href="importing-and-describing-data.html#cb16-7"></a><span class="st">        </span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-8"><a href="importing-and-describing-data.html#cb16-8"></a><span class="st">        </span><span class="co">#group_by() allows for summary statistics to be calculated for each continent separately</span></span>
<span id="cb16-9"><a href="importing-and-describing-data.html#cb16-9"></a><span class="st">          </span><span class="kw">summarise</span>(<span class="dt">AvgGdpPerCap_Nations =</span> <span class="kw">mean</span>(gdpPerCap), </span>
<span id="cb16-10"><a href="importing-and-describing-data.html#cb16-10"></a>                    <span class="dt">AvgGdpPerCap_People =</span> <span class="kw">sum</span>(gdp)<span class="op">/</span><span class="kw">sum</span>(population)) <span class="op">%&gt;%</span></span>
<span id="cb16-11"><a href="importing-and-describing-data.html#cb16-11"></a><span class="st">              </span><span class="kw">mutate_if</span>(is.numeric, round, <span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-12"><a href="importing-and-describing-data.html#cb16-12"></a><span class="st">              </span><span class="co">#This rounds all numeric variables to 0 decimal places </span></span>
<span id="cb16-13"><a href="importing-and-describing-data.html#cb16-13"></a><span class="st">              </span><span class="co">#(beyond expectations for this course)    </span></span>
<span id="cb16-14"><a href="importing-and-describing-data.html#cb16-14"></a><span class="st">                </span><span class="kw">arrange</span>(<span class="kw">desc</span>(AvgGdpPerCap_Nations))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## [90m# A tibble: 5 x 3[39m
##   continent AvgGdpPerCap_Nations AvgGdpPerCap_People
##   [3m[90m&lt;fct&gt;[39m[23m                    [3m[90m&lt;dbl&gt;[39m[23m               [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m Europe                   [4m1[24m[4m5[24m214               [4m1[24m[4m4[24m643
## [90m2[39m Asia                      [4m8[24m163                [4m3[24m277
## [90m3[39m Americas                  [4m6[24m797               [4m1[24m[4m6[24m305
## [90m4[39m Oceania                   [4m5[24m281               [4m1[24m[4m7[24m942
## [90m5[39m Africa                    [4m1[24m303                 867</code></pre>
<p><em>Just as an aside:</em> consider the differences between the two ways of calculating averages per continent. One focuses on the average of country values, and thus yields the average national income per capita. The other takes population sizes into account and thus yields the average personal income per capita. For most continents, the difference in results is huge. Both approaches are used in the media - so it’s always worth looking a little closer at summary statistics.</p>
<p>For an introduction to <code>dplyr</code>, you can watch this video:</p>
<iframe src=" https://www.youtube.com/embed/QtQE-b5iMUQ?rel=0 " allowfullscreen width="80%" height="350">
</iframe>
</div>
<div id="summarise-data-descriptive-statistics" class="section level2">
<h2><span class="header-section-number">2.4</span> Summarise data (descriptive statistics)</h2>
<p>Next you might want to use summary functions - either in a dplyr <code>summarise()</code> function or on their own. For most of them, you can use the <code>na.rm = TRUE</code> argument to tell R to ignore missing values (only do that when you have reason to expect that missing values can safely be ignored).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="importing-and-describing-data.html#cb19-1"></a>gapminder2010 &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(year<span class="op">==</span><span class="dv">2010</span>)</span>
<span id="cb19-2"><a href="importing-and-describing-data.html#cb19-2"></a></span>
<span id="cb19-3"><a href="importing-and-describing-data.html#cb19-3"></a><span class="co">#Global population</span></span>
<span id="cb19-4"><a href="importing-and-describing-data.html#cb19-4"></a><span class="kw">sum</span>(gapminder2010<span class="op">$</span>population, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb19-5"><a href="importing-and-describing-data.html#cb19-5"></a></span>
<span id="cb19-6"><a href="importing-and-describing-data.html#cb19-6"></a><span class="co">#Number of countries included</span></span>
<span id="cb19-7"><a href="importing-and-describing-data.html#cb19-7"></a><span class="kw">nrow</span>(gapminder2010)</span>
<span id="cb19-8"><a href="importing-and-describing-data.html#cb19-8"></a><span class="co">#To get the number inside dplyr&#39;s summarise function, it would have to be</span></span>
<span id="cb19-9"><a href="importing-and-describing-data.html#cb19-9"></a>gapminder2010 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarise</span>(<span class="dt">countries =</span> <span class="kw">n</span>())</span>
<span id="cb19-10"><a href="importing-and-describing-data.html#cb19-10"></a></span>
<span id="cb19-11"><a href="importing-and-describing-data.html#cb19-11"></a><span class="co">#Average (mean) number of children per woman</span></span>
<span id="cb19-12"><a href="importing-and-describing-data.html#cb19-12"></a><span class="kw">mean</span>(gapminder2010<span class="op">$</span>fertility, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb19-13"><a href="importing-and-describing-data.html#cb19-13"></a></span>
<span id="cb19-14"><a href="importing-and-describing-data.html#cb19-14"></a><span class="co">#Average (median) number of children per woman</span></span>
<span id="cb19-15"><a href="importing-and-describing-data.html#cb19-15"></a><span class="kw">median</span>(gapminder2010<span class="op">$</span>fertility, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb19-16"><a href="importing-and-describing-data.html#cb19-16"></a></span>
<span id="cb19-17"><a href="importing-and-describing-data.html#cb19-17"></a><span class="co">#Highest and lowest fertility rates</span></span>
<span id="cb19-18"><a href="importing-and-describing-data.html#cb19-18"></a><span class="kw">max</span>(gapminder2010<span class="op">$</span>fertility)</span>
<span id="cb19-19"><a href="importing-and-describing-data.html#cb19-19"></a><span class="kw">min</span>(gapminder2010<span class="op">$</span>fertility)</span>
<span id="cb19-20"><a href="importing-and-describing-data.html#cb19-20"></a></span>
<span id="cb19-21"><a href="importing-and-describing-data.html#cb19-21"></a><span class="co">#Countries with highest and lowest fertility.</span></span>
<span id="cb19-22"><a href="importing-and-describing-data.html#cb19-22"></a><span class="co">#There are many ways to look this up - here is a simple dplyr pipe (Note that | means &#39;or&#39; in the context of logical comparisons and == is needed to test for equality because = just assigns a value)</span></span>
<span id="cb19-23"><a href="importing-and-describing-data.html#cb19-23"></a>pacman<span class="op">::</span><span class="kw">p_load</span>(dplyr) <span class="co">#Needs to be run only once per R session!</span></span>
<span id="cb19-24"><a href="importing-and-describing-data.html#cb19-24"></a>gapminder2010 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-25"><a href="importing-and-describing-data.html#cb19-25"></a><span class="st">  </span><span class="kw">filter</span>(fertility <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(fertility) <span class="op">|</span><span class="st"> </span>fertility <span class="op">==</span><span class="st"> </span><span class="kw">min</span>(fertility)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-26"><a href="importing-and-describing-data.html#cb19-26"></a><span class="st">    </span><span class="kw">select</span>(country, fertility)</span></code></pre></div>
<pre><code>## [1] 6778331427
## [1] 185
##   countries
## 1       185
## [1] 2.885297
## [1] 2.38
## [1] 7.58
## [1] 1
##        country fertility
## 1 Macao, China      1.00
## 2        Niger      7.58</code></pre>

</div>
</div>
<div class="psyteachr_footer">
  
</div>
<script>

/* update total correct if #total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("total_correct")) {
    t.innerHTML =
      document.getElementsByClassName("correct").length + " of " +
      document.getElementsByClassName("solveme").length + " correct";
  }
}

/* solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "");
  }
  
  if (my_answer !== "" & real_answers.includes(my_answer)) {
    cl.add("correct");
  } else {
    cl.remove("correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol){
    var tol = JSON.parse(this.dataset.tol);  
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("correct");
    } else {
      cl.remove("correct");
    }  
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("correct");
    }  
  }
  
  update_total_correct();
}

window.onload = function() {
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('solution')) {
      buttons[i].onclick = b_func;
    }
  }
  
  /* set up solveme inputs */
  var solveme = document.getElementsByClassName("solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off"); 
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";
    
    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;
    
    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualisation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
